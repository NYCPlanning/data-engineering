name: DCPY Tests
on:
  workflow_call:
  workflow_dispatch:

jobs:
  type_check:
    name: Static Type Check (mypy)
    runs-on: ubuntu-22.04
    container:
      image: nycplanning/build-geosupport:latest
    defaults:
      run:
        shell: bash
    steps:
      - uses: actions/checkout@v3

      - name: (Temp) Install stubs # can remove once these make it into base docker image
        run: pip install -r python/requirements.txt

      - name: Static Type Check (mypy)
        run: mypy ./dcpy
