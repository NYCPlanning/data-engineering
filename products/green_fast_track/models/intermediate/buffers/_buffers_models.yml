version: 2

models:
  - name: int_buffers__all
    description: Union of all buffered flag tables
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null
          - is_epsg_2263

  - name: int_buffers__dcm_arterial_highways
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__industrial_sources
    description: |
      Buffered geometries for lots with potenitally unpermitted industrial emissions based on land use
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__dep_cats_permits
    description: Buffered geometries for cats permits
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__exposed_railways
    description: Buffered geometries for exposed railways
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__nysdec_state_facility_permits
    description: Buffered geometries for state facility permits
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__nysdec_title_v_facility_permits
    description: Buffered geometries for title V facility permits
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__dcp_air_quality_vent_towers
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__nyc_parks_properties
    description: Buffered geometries for selected NYC Parks owned properties
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__pops
    description: Buffered geometries for tax lots with POPS
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__natural_resource_shadows
    description: Buffer for all combined natural resources
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__waterfront_access_pow
    description: Buffered geometries for Publicly Owned Waterfront (pow) areas
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__waterfront_access_wpaa
    description: Buffered geometries for Waterfront Public Access Areas (wpaa)
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__nys_parks_properties
    description: Buffered geometries for NYS Parks owned properties
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__us_parks_properties
    description: Buffered geometries for Federal Parks owned properties
    columns:
      - name: variable_type
        tests:
          - not_null
      - name: variable_id
        tests:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null

  - name: int_buffers__lpc_landmarks
    description: |
      Buffered landmarks. Most are buildings with a BBL, but there are other features
      such as bridges and lampposts. Polygons are sourced from Pluto where BBLs are available,
      else the point is just buffered.
    columns:
      - name: variable_type
        test:
          - not_null
      - name: variable_id
        test:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
      - name: buffer
        tests:
          - not_null
          - is_epsg_2263

  - name: int_buffers__nysshpo_archaeological_buffer_areas
    columns:
      - name: variable_type
        test:
          - not_null
      - name: variable_id
        test:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
          - is_epsg_2263
      - name: buffer
        tests:
          - not_null
          - is_epsg_2263


  - name: int_buffers__nysshpo_historic_buildings
    description: |
      Historic buildings within the NYC boundary. Combines both points and polygon sources
    columns:
      - name: variable_type
        test:
          - not_null
      - name: variable_id
        test:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
          - is_epsg_2263
      - name: buffer
        tests:
          - not_null
          - is_epsg_2263

  - name: int_buffers__nysparks_historicplaces
    description: |
      Historic places within the NYC boundary
    columns:
      - name: variable_type
        test:
          - not_null
      - name: variable_id
        test:
          - not_null
          - unique
      - name: raw_geom
        tests:
          - not_null
          - is_epsg_2263
      - name: buffer
        tests:
          - not_null
          - is_epsg_2263
