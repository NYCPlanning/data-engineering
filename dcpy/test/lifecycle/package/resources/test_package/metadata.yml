name: dcp_template_db
display_name: Template DB
summary: |
  Template DB is a mock dataset created by the Data Engineering team at the Department of City Planning (DCP).
description: |
  Template DB is a mock dataset created by the Data Engineering team at the Department of City Planning (DCP).

  More details are available at the DCP Data Engineering wiki [here](https://github.com/NYCPlanning/data-engineering/wiki/).
tags: [Department of City Planning, DCP, New York City, NYC]
each_row_is_a: Interesting place in NYC

columns:
  - name: my_uid
    description:  The ID
    display_name: UID
    data_type: uid

  - name: borough
    description: The borough
    display_name: BOROUGH
    data_type: boro_code

  - name: block
    description: The Block
    display_name: Block
    data_type: block

  - name: lot
    description: The Lot
    display_name: Lot
    data_type: lot

  - name: bbl
    description: The BBL
    display_name: BBL
    non_nullable: True
    data_type: bbl

  - name: wkb_geometry
    description: The Geom
    display_name: Geometry
    data_type: wkb

  - name: lat
    description: Latitude
    non_nullable: True
    display_name: float
    data_type: latitude

  - name: long
    description: Latitude
    non_nullable: True
    display_name: float
    data_type: longitude

  - name: omit_me_from_shapefile
    description: I shouldn't show up in the Shapefile
    display_name: nope
    data_type: wkb

  - name: non_nullable_ownership
    display_name: Owner type
    description: Type of owner
    data_type: text
    non_nullable: True
    values:
      - [C, City owned]
      - [M, Mixed ownership]

  - name: nullable_ownership
    display_name: Owner type
    description: Type of owner
    data_type: text
    values:
      - [C, City owned]
      - [M, Mixed ownership]

  - name: nullable_text
    display_name: nullable text field
    description: This is explicitly nullable
    data_type: text


package:
  dataset_files:
    - name: primary_csv
      filename: test.csv
      type: csv
    - name: primary_shapefile
      filename: test.shp.zip
      type: shapefile
      overrides:
        omit_columns: [omit_me_from_shapefile]
        columns:
          wkb_geometry:
            name: the_geom
  attachments:
    - source_data_versions.csv
    - build_metadata.json

destinations:
  - id: socrata_shapefile
    type: socrata
    four_four: "b7pm-uzu7"
    datasets:
      - primary_shapefile
    attachments:
      - source_data_versions.csv
    omit_columns: []
    column_details:
      the_geom:
        api_name: the_geom_socrata
        display_name: the_geom_socrata_overridden_display

  - id: socrata_csv
    type: socrata
    four_four: "b7pm-uzu7"
    datasets:
      - primary_csv
    attachments:
      - source_data_versions.csv
    omit_columns: []
    column_details:
      the_geom:
        api_name: the_geom_socrata
