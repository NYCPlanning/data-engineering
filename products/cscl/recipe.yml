name: CSCL
product: cscl
version: 25d

inputs:
  datasets:
  # segment source layers - backbone
  - name: dcp_cscl_centerline
    version_env_var: VERSION
  - name: dcp_cscl_shoreline
    version_env_var: VERSION
  - name: dcp_cscl_rail
    version_env_var: VERSION
  - name: dcp_cscl_subway
    version_env_var: VERSION
  - name: dcp_cscl_nonstreetfeatures
    version_env_var: VERSION

  # other more "primary" layers
  - name: dcp_cscl_atomicpolygons
    version_env_var: VERSION
  - name: dcp_cscl_nodes
    version_env_var: VERSION

  # all other tables
  - name: dcp_cscl_addresspoints
    version_env_var: VERSION
  - name: dcp_cscl_altsegmentdata
    version_env_var: VERSION
  - name: dcp_cscl_commonplace_gdb # TODO - we archive commonplace from AGOL as well, at some point this duplication should be resolved
    version_env_var: VERSION
  - name: dcp_cscl_featurename
    version_env_var: VERSION
  - name: dcp_cscl_namedintersection
    version_env_var: VERSION
  - name: dcp_cscl_nypdbeat
    version_env_var: VERSION
  - name: dcp_cscl_roadbed_pointer_list
    version_env_var: VERSION
  - name: dcp_cscl_sectionalmap
    version_env_var: VERSION
  - name: dcp_cscl_sedat
    version_env_var: VERSION
  - name: dcp_cscl_segment_lgc
    version_env_var: VERSION
  - name: dcp_cscl_specialsedat
    version_env_var: VERSION
  - name: dcp_cscl_streetname
    version_env_var: VERSION
  - name: dcp_cscl_zipcode
    version_env_var: VERSION
  missing_versions_strategy: find_latest # TODO - they should all match

exports:
  output_folder: output
  zip_name: output
  datasets:
  # GeoSupport LION
  - name: manhattan_lion_dat
    filename: ManhattanLION.dat
    format: dat
    custom: { formatting: lion_dat }
  - name: bronx_lion_dat
    filename: BronxLION.dat
    format: dat
    custom: { formatting: lion_dat }
  - name: brooklyn_lion_dat
    filename: BrooklynLION.dat
    format: dat
    custom: { formatting: lion_dat }
  - name: queens_lion_dat
    filename: QueensLION.dat
    format: dat
    custom: { formatting: lion_dat }
  - name: staten_island_lion_dat
    filename: StatenIslandLION.dat
    format: dat
    custom: { formatting: lion_dat }

  # SAF
  - name: saf_abcegnpx_generic
    filename: GenericABCEGNPX.txt
    format: dat
    custom: { formatting: saf_a }
  - name: saf_abcegnpx_roadbed
    filename: RoadbedABCEGNPX.txt
    format: dat
    custom: { formatting: saf_a }
  - name: saf_d_generic
    filename: GenericD.txt
    format: dat
    custom: { formatting: saf_d }
  - name: saf_d_roadbed
    filename: RoadbedD.txt
    format: dat
    custom: { formatting: saf_d }
  - name: saf_i
    filename: Intersection.txt
    format: dat

  # SEDAT
  - name: sedat
    filename: SEDAT.txt
    format: dat
  - name: special_sedat
    filename: SpecialSEDAT.txt
    format: dat
    custom: { formatting: sedat }
