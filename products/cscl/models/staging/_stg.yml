version: 2

models:
- name: stg__altsegmentdata_saf
  columns:
  - name: ogc_fid
  - name: segmentid
    tests: [ not_null ]
  - name: saftype
    tests: [ not_null ]
  - name: alt_segdata_type
  - name: borough
    tests: [ not_null ]

- name: stg__altsegmentdata_proto
  columns:
  - name: segmentid
    tests: [ not_null ]

- name: stg__atomicpolygons
  columns:
  - name: atomicid
    tests: [ unique, not_null ]

- name: stg__facecode_and_featurename
  columns:
  - name: b7sc
    tests:
    - unique:
        config: { where: "b7sc IS NOT NULL" }
        error_if: "> 1"
  - name: lookup_key
  - name: face_code

- name: stg__segment_sedat
  columns:
  - name: segmentid
  - name: lionkey
  - name: side
    tests:
    - accepted_values:
        arguments: { values: [ "1", "2" ] }
