ARG PYTHON_VERSION=3.12
FROM python:${PYTHON_VERSION}-slim

ARG RELEASE
ARG MAJOR
ARG MINOR
ARG PATCH

ENV GEOFILES=/geocode/version-${RELEASE}_${MAJOR}.${MINOR}/fls/
ENV LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/geocode/version-${RELEASE}_${MAJOR}.${MINOR}/lib/

WORKDIR /geocode

COPY . . 

RUN ./setup.sh

WORKDIR /
